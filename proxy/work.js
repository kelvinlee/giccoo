var Work,models;models=require("../models"),Work=models.Work,exports.getWorks=function(r,e){return Work.find({}).sort({create_at:"-1"}).populate("author_id").exec(e)},exports.getWorkByNames=function(r,e){return 0===r.length?e(null,[]):Work.find({name:r},e)},exports.getWorkByShortName=function(r,e){return 0===r.length?e(!1,[]):Work.findOne({shortname:r},e)},exports.getWorkByTagId=function(r,e){return Work.find({tag_id:r},e)},exports.getWorkById=function(r,e){return Work.findOne({_id:r}).populate("author_id").exec(e)},exports.getWorksByQuery=function(r,e,t){return Work.find(r,null,e,t)},exports.delWork=function(r,e){return Work.findById(r,function(r,t){return t.remove(e)})},exports.newAndSave=function(r,e,t,o,n,u,i){var d;return d=new Work,d.shortname=r,d.title=e,d.content=t,d.author_id=o,d.language=n,d.tag_id=u,d.save(i)};